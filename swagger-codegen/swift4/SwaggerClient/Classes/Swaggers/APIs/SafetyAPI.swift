//
// SafetyAPI.swift
//
// Generated by swagger-codegen
// https://github.com/swagger-api/swagger-codegen
//

import Foundation
import Alamofire



open class SafetyAPI {
    /**
     /fleet/drivers/{driverId:[0-9]+}/safety/score
     
     - parameter driverId: (path) ID of the driver 
     - parameter accessToken: (query) Samsara API access token. 
     - parameter startMs: (query) Timestamp in milliseconds representing the start of the period to fetch, inclusive. Used in combination with endMs. 
     - parameter endMs: (query) Timestamp in milliseconds representing the end of the period to fetch, inclusive. Used in combination with startMs. 
     - parameter completion: completion handler to receive the data and the error objects
     */
    open class func getDriverSafetyScore(driverId: Int64, accessToken: String, startMs: Int64, endMs: Int64, completion: @escaping ((_ data: DriverSafetyScoreResponse?,_ error: Error?) -> Void)) {
        getDriverSafetyScoreWithRequestBuilder(driverId: driverId, accessToken: accessToken, startMs: startMs, endMs: endMs).execute { (response, error) -> Void in
            completion(response?.body, error)
        }
    }


    /**
     /fleet/drivers/{driverId:[0-9]+}/safety/score
     - GET /fleet/drivers/{driverId}/safety/score
     - Fetch the safety score for the driver.
     - examples: [{example={
  "totalTimeDrivenMs" : 19708293,
  "timeOverSpeedLimitMs" : 3769,
  "harshBrakingCount" : 2,
  "harshEvents" : [ {
    "harshEventType" : "Harsh Braking",
    "vehicleId" : 212014918086169,
    "timestampMs" : 1535590776000
  }, {
    "harshEventType" : "Harsh Braking",
    "vehicleId" : 212014918086169,
    "timestampMs" : 1535590776000
  } ],
  "harshTurningCount" : 0,
  "totalHarshEventCount" : 3,
  "driverId" : 1234,
  "safetyScore" : 97,
  "crashCount" : 0,
  "harshAccelCount" : 1,
  "safetyScoreRank" : "26",
  "totalDistanceDrivenMeters" : 291836
}, contentType=application/json}]
     
     - parameter driverId: (path) ID of the driver 
     - parameter accessToken: (query) Samsara API access token. 
     - parameter startMs: (query) Timestamp in milliseconds representing the start of the period to fetch, inclusive. Used in combination with endMs. 
     - parameter endMs: (query) Timestamp in milliseconds representing the end of the period to fetch, inclusive. Used in combination with startMs. 

     - returns: RequestBuilder<DriverSafetyScoreResponse> 
     */
    open class func getDriverSafetyScoreWithRequestBuilder(driverId: Int64, accessToken: String, startMs: Int64, endMs: Int64) -> RequestBuilder<DriverSafetyScoreResponse> {
        var path = "/fleet/drivers/{driverId}/safety/score"
        let driverIdPreEscape = "\(driverId)"
        let driverIdPostEscape = driverIdPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        path = path.replacingOccurrences(of: "{driverId}", with: driverIdPostEscape, options: .literal, range: nil)
        let URLString = SwaggerClientAPI.basePath + path
        let parameters: [String:Any]? = nil
        
        var url = URLComponents(string: URLString)
        url?.queryItems = APIHelper.mapValuesToQueryItems([
            "access_token": accessToken, 
            "startMs": startMs.encodeToJSON(), 
            "endMs": endMs.encodeToJSON()
        ])

        let requestBuilder: RequestBuilder<DriverSafetyScoreResponse>.Type = SwaggerClientAPI.requestBuilderFactory.getBuilder()

        return requestBuilder.init(method: "GET", URLString: (url?.string ?? URLString), parameters: parameters, isBody: false)
    }

    /**
     /fleet/vehicles/{vehicleId:[0-9]+}/safety/harsh_event
     
     - parameter vehicleId: (path) ID of the vehicle 
     - parameter accessToken: (query) Samsara API access token. 
     - parameter timestamp: (query) Timestamp in milliseconds representing the timestamp of a harsh event. 
     - parameter completion: completion handler to receive the data and the error objects
     */
    open class func getVehicleHarshEvent(vehicleId: Int64, accessToken: String, timestamp: Int64, completion: @escaping ((_ data: VehicleHarshEventResponse?,_ error: Error?) -> Void)) {
        getVehicleHarshEventWithRequestBuilder(vehicleId: vehicleId, accessToken: accessToken, timestamp: timestamp).execute { (response, error) -> Void in
            completion(response?.body, error)
        }
    }


    /**
     /fleet/vehicles/{vehicleId:[0-9]+}/safety/harsh_event
     - GET /fleet/vehicles/{vehicleId}/safety/harsh_event
     - Fetch harsh event details for a vehicle.
     - examples: [{example={
  "harshEventType" : "Harsh Braking",
  "location" : {
    "address" : "350 Rhode Island St, San Francisco, CA",
    "longitude" : "-96.14907287",
    "latitude" : "33.07614328"
  },
  "incidentReportUrl" : "https://cloud.samsara.com/groups/1234/fleet/reports/safety/vehicle/212123456789012/incident/1539201882984",
  "downloadTrackedInwardVideoUrl" : "https://samsara-dashcam-videos.s3.us-west-2.amazonaws.com/123/212123456789012/1539201872984/abC123De4-camera-video-segment-driver-123456789.tracked.mp4?...",
  "isDistracted" : true,
  "downloadInwardVideoUrl" : "https://samsara-dashcam-videos.s3.us-west-2.amazonaws.com/123/212123456789012/1539201872984/abC123De4-camera-video-segment-driver-123456789.mp4?...",
  "downloadForwardVideoUrl" : "https://samsara-dashcam-videos.s3.us-west-2.amazonaws.com/123/212123456789012/1539201872984/abC123De4-camera-video-segment-123456789.mp4?..."
}, contentType=application/json}]
     
     - parameter vehicleId: (path) ID of the vehicle 
     - parameter accessToken: (query) Samsara API access token. 
     - parameter timestamp: (query) Timestamp in milliseconds representing the timestamp of a harsh event. 

     - returns: RequestBuilder<VehicleHarshEventResponse> 
     */
    open class func getVehicleHarshEventWithRequestBuilder(vehicleId: Int64, accessToken: String, timestamp: Int64) -> RequestBuilder<VehicleHarshEventResponse> {
        var path = "/fleet/vehicles/{vehicleId}/safety/harsh_event"
        let vehicleIdPreEscape = "\(vehicleId)"
        let vehicleIdPostEscape = vehicleIdPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        path = path.replacingOccurrences(of: "{vehicleId}", with: vehicleIdPostEscape, options: .literal, range: nil)
        let URLString = SwaggerClientAPI.basePath + path
        let parameters: [String:Any]? = nil
        
        var url = URLComponents(string: URLString)
        url?.queryItems = APIHelper.mapValuesToQueryItems([
            "access_token": accessToken, 
            "timestamp": timestamp.encodeToJSON()
        ])

        let requestBuilder: RequestBuilder<VehicleHarshEventResponse>.Type = SwaggerClientAPI.requestBuilderFactory.getBuilder()

        return requestBuilder.init(method: "GET", URLString: (url?.string ?? URLString), parameters: parameters, isBody: false)
    }

    /**
     /fleet/vehicles/{vehicleId:[0-9]+}/safety/score
     
     - parameter vehicleId: (path) ID of the vehicle 
     - parameter accessToken: (query) Samsara API access token. 
     - parameter startMs: (query) Timestamp in milliseconds representing the start of the period to fetch, inclusive. Used in combination with endMs. 
     - parameter endMs: (query) Timestamp in milliseconds representing the end of the period to fetch, inclusive. Used in combination with startMs. 
     - parameter completion: completion handler to receive the data and the error objects
     */
    open class func getVehicleSafetyScore(vehicleId: Int64, accessToken: String, startMs: Int64, endMs: Int64, completion: @escaping ((_ data: VehicleSafetyScoreResponse?,_ error: Error?) -> Void)) {
        getVehicleSafetyScoreWithRequestBuilder(vehicleId: vehicleId, accessToken: accessToken, startMs: startMs, endMs: endMs).execute { (response, error) -> Void in
            completion(response?.body, error)
        }
    }


    /**
     /fleet/vehicles/{vehicleId:[0-9]+}/safety/score
     - GET /fleet/vehicles/{vehicleId}/safety/score
     - Fetch the safety score for the vehicle.
     - examples: [{example={
  "totalTimeDrivenMs" : 19708293,
  "timeOverSpeedLimitMs" : 3769,
  "harshBrakingCount" : 2,
  "harshEvents" : [ {
    "harshEventType" : "Harsh Braking",
    "vehicleId" : 212014918086169,
    "timestampMs" : 1535590776000
  }, {
    "harshEventType" : "Harsh Braking",
    "vehicleId" : 212014918086169,
    "timestampMs" : 1535590776000
  } ],
  "vehicleId" : 4321,
  "harshTurningCount" : 0,
  "totalHarshEventCount" : 3,
  "safetyScore" : 97,
  "crashCount" : 0,
  "harshAccelCount" : 1,
  "safetyScoreRank" : "26",
  "totalDistanceDrivenMeters" : 291836
}, contentType=application/json}]
     
     - parameter vehicleId: (path) ID of the vehicle 
     - parameter accessToken: (query) Samsara API access token. 
     - parameter startMs: (query) Timestamp in milliseconds representing the start of the period to fetch, inclusive. Used in combination with endMs. 
     - parameter endMs: (query) Timestamp in milliseconds representing the end of the period to fetch, inclusive. Used in combination with startMs. 

     - returns: RequestBuilder<VehicleSafetyScoreResponse> 
     */
    open class func getVehicleSafetyScoreWithRequestBuilder(vehicleId: Int64, accessToken: String, startMs: Int64, endMs: Int64) -> RequestBuilder<VehicleSafetyScoreResponse> {
        var path = "/fleet/vehicles/{vehicleId}/safety/score"
        let vehicleIdPreEscape = "\(vehicleId)"
        let vehicleIdPostEscape = vehicleIdPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        path = path.replacingOccurrences(of: "{vehicleId}", with: vehicleIdPostEscape, options: .literal, range: nil)
        let URLString = SwaggerClientAPI.basePath + path
        let parameters: [String:Any]? = nil
        
        var url = URLComponents(string: URLString)
        url?.queryItems = APIHelper.mapValuesToQueryItems([
            "access_token": accessToken, 
            "startMs": startMs.encodeToJSON(), 
            "endMs": endMs.encodeToJSON()
        ])

        let requestBuilder: RequestBuilder<VehicleSafetyScoreResponse>.Type = SwaggerClientAPI.requestBuilderFactory.getBuilder()

        return requestBuilder.init(method: "GET", URLString: (url?.string ?? URLString), parameters: parameters, isBody: false)
    }

}
